#!/bin/bash
# cd /workspace/s-3dgs/encoders/lseg_encoder
# python -u encode_images.py --backbone clip_vitl16_384 --weights /workspace/lseg/demo_e200.ckpt --widehead --no-scaleinv --outdir /workspace/data/aviodrome/plane/small_input/rgb_feature_langseg --test-rgb-dir /workspace/data/aviodrome/plane/small_input/images --workers 0
# python -u encode_images.py --backbone clip_vitl16_384 --weights /workspace/lseg/demo_e200.ckpt --widehead --no-scaleinv --outdir /workspace/data/replica_data/office4/rgb_feature_langseg --test-rgb-dir /workspace/data/replica_data/office4/images --workers 0
# python -u encode_images.py --backbone clip_vitl16_384 --weights /workspace/lseg/demo_e200.ckpt --widehead --no-scaleinv --outdir /workspace/data/replica_data/room1/rgb_feature_langseg --test-rgb-dir /workspace/data/replica_data/room1/images --workers 0
# cd /workspace/feature-3dgs/encoders/sam_encoder
# python segment.py --checkpoint checkpoints/sam_vit_h_4b8939.pth --model-type vit_h --data /workspace/output/tree18_sam/ --iteration 7000
# python export_image_embeddings.py --checkpoint checkpoints/sam_vit_h_4b8939.pth --model-type vit_h --input /workspace/data/replica_data/office3/images  --output /workspace/data/replica_data/office3/sam_embeddings
# python export_image_embeddings.py --checkpoint checkpoints/sam_vit_h_4b8939.pth --model-type vit_h --input /workspace/data/replica_data/office4/images  --output /workspace/data/replica_data/office4/sam_embeddings
# python export_image_embeddings.py --checkpoint checkpoints/sam_vit_h_4b8939.pth --model-type vit_h --input /workspace/data/replica_data/room0/images  --output /workspace/data/replica_data/room0/sam_embeddings
# python export_image_embeddings.py --checkpoint checkpoints/sam_vit_h_4b8939.pth --model-type vit_h --input /workspace/data/cup_plush/images  --output /workspace/data/cup_plush/sam_embeddings
# python -u encode_images.py --backbone clip_vitl16_384 --weights /workspace/lseg/demo_e200.ckpt --widehead --no-scaleinv --outdir /workspace/data/tree18/colmap/rgb_feature_langseg --test-rgb-dir /workspace/data/tree18/colmap/images --workers 0
cd /workspace/s-3dgs/
# python train.py -s /workspace/data/small_input -m /workspace/output/aviodrome/plane/s-3dgs/normal/run5 -r 8 -f lseg --cap_max 50_000 --scale_reg 0.01 --opacity_reg 0.01 --noise_lr 4000 --init_type sfm --save_iterations 2000 5000 7000 15000 --iterations 15000 --checkpoint_iterations 2000 3000 5000 7000 10000 15000 --start_checkpoint /workspace/output/aviodrome/plane/s-3dgs/normal/run5/chkpnt2000.pth
# python train.py -s /workspace/data/small_input -m /workspace/output/aviodrome/plane/s-3dgs/normal/run6 -r 4 -f lseg --cap_max 100_000 --scale_reg 0.01 --opacity_reg 0.01 --noise_lr 4000 --init_type sfm --save_iterations 2000 5000 7000 15000 --iterations 15000 --checkpoint_iterations 2000 3000 5000 7000 10000 15000 --start_checkpoint /workspace/output/aviodrome/plane/s-3dgs/normal/run6/chkpnt2000.pth
# python train.py -s /workspace/data/small_input -m /workspace/output/aviodrome/plane/s-3dgs/normal/run7 -r 2 -f lseg --cap_max 100_000 --scale_reg 0.01 --opacity_reg 0.01 --noise_lr 4000 --init_type sfm --save_iterations 2000 5000 7000 15000 --iterations 15000 --checkpoint_iterations 2000 3000 5000 7000 10000 15000 #--start_checkpoint /workspace/output/aviodrome/plane/s-3dgs/normal/run2/chkpnt15000.pth
# python train.py -s /workspace/data/small_input -m /workspace/output/aviodrome/plane/s-3dgs/normal/run8 -r 2 -f lseg --cap_max 250_000 --densify_from_iter 1000 --scale_reg 0.01 --opacity_reg 0.01 --noise_lr 4000 --init_type sfm --save_iterations 2000 5000 7000 15000 --iterations 15000 --checkpoint_iterations 2000 3000 5000 7000 10000 15000 #--start_checkpoint /workspace/output/aviodrome/plane/s-3dgs/normal/run2/chkpnt15000.pth
# python train.py -s /workspace/data/small_input -m /workspace/output/aviodrome/plane/s-3dgs/normal/run9 -r 2 -f lseg --cap_max 500_000 --densify_from_iter 1000 --scale_reg 0.01 --opacity_reg 0.01 --noise_lr 4000 --init_type sfm --save_iterations 2000 5000 7000 15000 --iterations 15000 --checkpoint_iterations 2000 3000 5000 7000 10000 15000 #--start_checkpoint /workspace/output/aviodrome/plane/s-3dgs/normal/run2/chkpnt15000.pth
# python train.py -s /workspace/data/small_input -m /workspace/output/aviodrome/plane/s-3dgs/normal/run10 -r 2 -f lseg --cap_max 100_000 --densify_from_iter 1000 --scale_reg 0.01 --opacity_reg 0.01 --noise_lr 10000 --init_type sfm --save_iterations 2000 3000 4000 5000 6000 7000 8000 9000 10000 11000 12000 13000 14000 15000 --iterations 15000 --checkpoint_iterations 2000 3000 4000 5000 6000 7000 8000 9000 10000 11000 12000 13000 14000 15000 #--start_checkpoint /workspace/output/aviodrome/plane/s-3dgs/normal/run2/chkpnt15000.pth
python train.py -s /workspace/data/tree/colmap -m /workspace/output/tree/run1 -r 8 -f lseg --cap_max 250_000 --object tree --densify_from_iter 1000 --scale_reg 0.01 --opacity_reg 0.01 --noise_lr 10000 --init_type sfm --save_iterations 2000 3000 4000 5000 6000 7000 8000 9000 10000 11000 12000 13000 14000 15000 --iterations 15000 --checkpoint_iterations 1000 2000 3000 4000 5000 6000 7000 8000 9000 10000 11000 12000 13000 14000 15000 --start_checkpoint /workspace/output/tree/run1/chkpnt5000.pth
# python train.py -s /workspace/data/small_input -m /workspace/output/aviodrome/plane/s-3dgs/normal/run12 -r 2 -f lseg --cap_max 250_000 --densify_from_iter 1000 --scale_reg 0.01 --opacity_reg 0.01 --noise_lr 10000 --init_type sfm --save_iterations 2000 3000 4000 5000 6000 7000 8000 9000 10000 11000 12000 13000 14000 15000 --iterations 15000 --checkpoint_iterations 1000 2000 3000 4000 5000 6000 7000 8000 9000 10000 11000 12000 13000 14000 15000 #--start_checkpoint /workspace/output/aviodrome/plane/s-3dgs/normal/run2/chkpnt15000.pth
# python train.py -s /workspace/data/small_input -m /workspace/output/aviodrome/plane/s-3dgs/normal/run13 -r 2 -f lseg --cap_max 500_000 --densify_from_iter 1000 --scale_reg 0.01 --opacity_reg 0.01 --noise_lr 10000 --init_type sfm --save_iterations 2000 3000 4000 5000 6000 7000 8000 9000 10000 11000 12000 13000 14000 15000 --iterations 15000 --checkpoint_iterations 1000 2000 3000 4000 5000 6000 7000 8000 9000 10000 11000 12000 13000 14000 15000 #--start_checkpoint /workspace/output/aviodrome/plane/s-3dgs/normal/run2/chkpnt15000.pth
# python train.py -s /workspace/data/tree/colmap -m /workspace/output/tree/lseg/no_speedup/nlr/r8 -r 8 -f lseg --cap_max 30000 --scale_reg 0.01 --opacity_reg 0.01 --noise_lr 5e5 --init_type sfm --checkpoint_iterations 590
# python render.py -s /workspace/data/tree18/colmap -m /workspace/output/tree18_sam/ -f sam --iteration 7000 --novel_view --multi_interpolate --video 
# python render.py -s /workspace/data/tree18/colmap -m /workspace/output/tree18_lseg/ -f lseg --iteration 20000 --novel_view --multi_interpolate --video
# python train.py -s /workspace/data/tree18/colmap -m /workspace/output/tree18/lseg/ -f lseg -r 4 --speedup --save_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 --checkpoint_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 --eval --iterations 20000
# python train.py -s /workspace/data/replica_data/room0 -m /workspace/output/room0/sam -f sam -r 2 --speedup --save_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 --checkpoint_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 --eval --iterations 20000 --test_iterations 5000 7000 15000 20000
# python train.py -s /workspace/data/replica_data/room1 -m /workspace/output/room1/sam -f sam -r 2 --speedup --save_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 --checkpoint_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 --eval --iterations 20000 --test_iterations 5000 7000 15000 20000
# python train.py -s /workspace/data/replica_data/office3 -m /workspace/output/office3/sam -f sam -r 2 --speedup --save_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 --checkpoint_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 --eval --iterations 20000 --test_iterations 5000 7000 15000 20000
# python train.py -s /workspace/data/replica_data/office4 -m /workspace/output/office4/sam -f sam -r 2 --speedup --save_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 --checkpoint_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 --eval --iterations 20000 --test_iterations 5000 7000 15000 20000
# python train.py -s /workspace/data/cup_plush -m /workspace/output/cup_plush_sam -f sam -r 4 --speedup --save_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 --checkpoint_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 --eval --iterations 20000 --test_iterations 5000 7000 15000 20000 --start_checkpoint /workspace/output/cup_plush_sam/chkpnt5000.pth
# python train.py -s /workspace/data/cup_plush -m /workspace/output/feature_3dgs/cup_plush_sam -f sam -r 0 --speedup --save_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 25000 30000 --checkpoint_iterations 100 200 300 400 500 600 700 800 900 1000 2000 5000 7000 10000 15000 20000 25000 30000 --eval
# python view.py -s /workspace/data/cup_plush -m /workspace/output/cup_plush_sam -f sam --iteration 20000
# python view.py -s /workspace/data/tree/colmap -m /workspace/output/tree/lseg -f lseg --iteration 7000
# python view2.py -s /workspace/data/cup_plush -m /workspace/output/cup_plush_mcmc --iteration 30000
# python render.py -s /workspace/data/cup_plush -m /workspace/output/cup_plush_sam -f sam --iteration 20000 --novel_view --video --multi_interpolate
# python render.py -s /workspace/data/replica_data/room0 -m /workspace/output/room0/sam -f sam --iteration 20000 --novel_view --video --multi_interpolate
# python render.py -s /workspace/data/replica_data/room1 -m /workspace/output/room1/sam -f sam --iteration 20000 --novel_view --video --multi_interpolate
# python render.py -s /workspace/data/replica_data/office3 -m /workspace/output/office3/sam -f sam --iteration 20000 --novel_view --video --multi_interpolate
# python render.py -s /workspace/data/replica_data/office4 -m /workspace/output/office4/sam -f sam --iteration 20000 --novel_view --video --multi_interpolate
# python render.py -s /workspace/data/tree18/colmap -m /workspace/output/tree18_sam -f sam --iteration 20000 --novel_view --video --multi_interpolate
# cd /workspace/feature-3dgs/encoders/lseg_encoder
# python -u segmentation.py --data /workspace/output/cup_plush_lseg --weights /workspace/lseg/demo_e200.ckpt --iteration 2000
# /workspace/workspace_action.sh 31ae3b28-08ab-4393-bcdc-334fa1fc22a6 pause
